{% extends "hq/base.html" %}
{% load i18n %}
{% load wqm-tags %}
{% load pagination-tags %}

{% block title %}{% trans "Reports" %}{% endblock %}
{% block javascripts %}
    <script type="text/javascript" src="{{MEDIA_URL}}/graphing/flot/jquery.js"></script>
    <script type="text/javascript" src="{{MEDIA_URL}}/graphing/flot/jquery.flot.js"></script>
    <script type="text/javascript" src="{{MEDIA_URL}}/aquatest/js/selector.js"></script>

    <script type="text/javascript">
        
    </script>
{% endblock %}

{% block org_content %}
<h2>{%trans "Reports of samples basing on Sample Point, Parameter and Tester "%}</h2>

<br>


<div class="module">
    <div style="text-align:right;">
        <a href="/pdfview" class="add"> Export pdf </a> ||<a href="" class="add"> Export csv </a> || <a href="" class="add"> Export Excel </a>
    </div>
        {% if reports %}
            <h1> Report </h1>
            {% for report in reports%}
            {{ report.value }} {{ report.parameter}}
            {% endfor %}
        {% else %}
        <form action="/report_testers" method ="POST">
            {% if points %}
            <h3>Select Sampling Points </h3>
                <select name="points" multiple="{{ points.count }}" >
                    {% for point in points %}
                    <option value="{{point.id}}">{{point.name}}</option>
                    {% endfor %}
                </select>
            {% endif %}
            {% if testers %}
            <h3>Select Testers </h3>
                <select name="testers" multiple="{{ testers.count }}" >
                    {% for tester in testers %}
                    <option value="{{tester.id}}">{{tester.taken_by}}</option>
                    {% endfor %}
                </select>
                <input value="{{ sel_points }}" type="hidden" name="sel_points">
            {% endif %}
            {% if parameters %}
            <h3>Select Parameters </h3>
                <select name="parameters" multiple="{{ parameters.count }}" >
                    {% for parameter in parameters %}
                    <option value="{{parameter.id}}">{{parameter.test_name}}</option>
                    {% endfor %}
                </select>
                <input value="{{ sel_points }}" type="hidden" name="sel_points">
                <input value="{{ sel_testers }}" type="hidden" name="sel_testers">
            {% endif %}
            <input type="submit" value="GO">
        </form>
        
        {% endif %}


</div>

{% endblock %}
